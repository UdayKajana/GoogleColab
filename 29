 gcloud dataflow flex-template build gs://vznet-test/wireline_churn_test/src/template.json \
    --image us-east4-docker.pkg.dev/vz-it-np-gudv-dev-vzntdo-0/vznet/pipeline_env:V1 \
    --sdk-language "PYTHON" \
    --metadata-file metadata.json
Successfully saved container spec in flex template file.
Template File GCS Location: gs://vznet-test/wireline_churn_test/src/template.json
Container Spec:

{
    "defaultEnvironment": {},
    "image": "us-east4-docker.pkg.dev/vz-it-np-gudv-dev-vzntdo-0/vznet/pipeline_env:V1",
    "metadata": {
        "description": "A template for reading from BigQuery and processing data",
        "name": "Bigquery to GCS Pipeline",
        "parameters": [
            {
                "helpText": "The SQL query to execute",
                "isOptional": false,
                "label": "BigQuery SQL query",
                "name": "query",
                "paramType": "TEXT"
            }
        ]
    },
    "sdkInfo": {
        "language": "PYTHON"
    }
}
tpaldgudva001:/vzwhome/udayka/workspace$  gcloud dataflow flex-template run bigquery-pipeline \
    --template-file-gcs-location gs://vznet-test/wireline_churn_test/src/template.json \
    --parameters="\
        query=SELECT * FROM vz-it-np-gudv-dev-vzntdo-0.vzn_nsdl_common_core_tbls.echo_ticket_opened_proc_v0 LIMIT 10,\
        project=vz-it-np-gudv-dev-vzntdo-0,\
        temp_location=gs://vznet-test/wireline_churn_test/tmp/,\
        network=shared-np-east,\
        subnetwork=https://www.googleapis.com/compute/v1/projects/vz-it-np-exhv-sharedvpc-228116/regions/us-east4/subnetworks/shared-np-east-green-subnet-2,\
        service_account_email=sa-dev-gudv-app-vzntdo-0@vz-it-np-gudv-dev-vzntdo-0.iam.gserviceaccount.com" \
    --project vz-it-np-gudv-dev-vzntdo-0 \
    --region us-east4 \
    --disable-public-ips \
    --dataflow-kms-key projects/vz-it-np-d0sv-vsadkms-0/locations/us-east4/keyRings/vz-it-np-kr-aid/cryptoKeys/vz-it-np-kms-gudv
ERROR: (gcloud.dataflow.flex-template.run) INVALID_ARGUMENT: The template parameters are invalid. Details:
query: Missing required parameter
        project: Unrecognized parameter
        service_account_email: Unrecognized parameter
        temp_location: Unrecognized parameter
        network: Unrecognized parameter
        query: Unrecognized parameter
        subnetwork: Unrecognized parameter
- '@type': type.googleapis.com/google.dataflow.v1beta3.InvalidTemplateParameters
  parameterViolations:
  - description: Missing required parameter
    parameter: query
  - description: Unrecognized parameter



